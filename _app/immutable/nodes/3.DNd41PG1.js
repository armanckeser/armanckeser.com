import{g as fe}from"../chunks/CWiTVotk.js";import{k as ue,w as pe,f as me,t as S,i as G,s as z,l as Q,a as F,p as q,h as ge}from"../chunks/B6UTdczH.js";import{B as Y,E as _e,a2 as he,a3 as xe,e as be,u as we,a4 as ye,a5 as ke,a6 as Ce,X as Ee,q as Ie,n as A,a7 as Z,a8 as ee,a9 as Fe,g as ne,t as k,v as y,o as D,m as o,D as O,w as M,k as oe,s as te,i as $,$ as Se,l as H}from"../chunks/6nkcBzSx.js";import{a as ae,s as N,e as Te}from"../chunks/CehCDBBK.js";import{a as Ae,b as Ne}from"../chunks/BhiIXKJ5.js";import{s as B}from"../chunks/PwPRnE0L.js";import{p as P}from"../chunks/DGYGYEz2.js";import{g as Pe}from"../chunks/CnF-b0My.js";const De=()=>performance.now(),E={tick:a=>requestAnimationFrame(a),now:()=>De(),tasks:new Set};function de(){const a=E.now();E.tasks.forEach(e=>{e.c(a)||(E.tasks.delete(e),e.f())}),E.tasks.size!==0&&E.tick(de)}function Oe(a){let e;return E.tasks.size===0&&E.tick(de),{promise:new Promise(s=>{E.tasks.add(e={c:a,f:s})}),abort(){E.tasks.delete(e)}}}function K(a,e){pe(()=>{a.dispatchEvent(new CustomEvent(e))})}function Le(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function re(a){const e={},s=a.split(";");for(const r of s){const[f,l]=r.split(":");if(!f||l===void 0)break;const p=Le(f.trim());e[p]=l.trim()}return e}const je=a=>a;function ie(a,e,s,r){var f=(a&ke)!==0,l=(a&Ce)!==0,p=f&&l,x=(a&ye)!==0,C=p?"both":f?"in":"out",i,t=e.inert,u=e.style.overflow,n,c;function b(){var m=Fe,I=Y;Z(null),ee(null);try{return i??(i=s()(e,(r==null?void 0:r())??{},{direction:C}))}finally{Z(m),ee(I)}}var _={is_global:x,in(){var m;if(e.inert=t,!f){c==null||c.abort(),(m=c==null?void 0:c.reset)==null||m.call(c);return}l||n==null||n.abort(),K(e,"introstart"),n=V(e,b(),c,1,()=>{K(e,"introend"),n==null||n.abort(),n=i=void 0,e.style.overflow=u})},out(m){if(!l){m==null||m(),i=void 0;return}e.inert=!0,K(e,"outrostart"),c=V(e,b(),n,0,()=>{K(e,"outroend"),m==null||m()})},stop:()=>{n==null||n.abort(),c==null||c.abort()}},h=Y;if((h.transitions??(h.transitions=[])).push(_),f&&ue){var v=x;if(!v){for(var w=h.parent;w&&w.f&_e;)for(;(w=w.parent)&&!(w.f&he););v=!w||(w.f&xe)!==0}v&&be(()=>{we(()=>_.in())})}}function V(a,e,s,r,f){var l=r===1;if(Ee(e)){var p,x=!1;return Ie(()=>{if(!x){var h=e({direction:l?"in":"out"});p=V(a,h,s,r,f)}}),{abort:()=>{x=!0,p==null||p.abort()},deactivate:()=>p.deactivate(),reset:()=>p.reset(),t:()=>p.t()}}if(s==null||s.deactivate(),!(e!=null&&e.duration))return f(),{abort:A,deactivate:A,reset:A,t:()=>r};const{delay:C=0,css:i,tick:t,easing:u=je}=e;var n=[];if(l&&s===void 0&&(t&&t(0,1),i)){var c=re(i(0,1));n.push(c,c)}var b=()=>1-r,_=a.animate(n,{duration:C});return _.onfinish=()=>{var h=(s==null?void 0:s.t())??1-r;s==null||s.abort();var v=r-h,w=e.duration*Math.abs(v),m=[];if(w>0){var I=!1;if(i)for(var L=Math.ceil(w/16.666666666666668),T=0;T<=L;T+=1){var j=h+v*u(T/L),g=re(i(j,1-j));m.push(g),I||(I=g.overflow==="hidden")}I&&(a.style.overflow="hidden"),b=()=>{var d=_.currentTime;return h+v*u(d/w)},t&&Oe(()=>{if(_.playState!=="running")return!1;var d=b();return t(d,1-d),!0})}_=a.animate(m,{duration:w,fill:"forwards"}),_.onfinish=()=>{b=()=>r,t==null||t(r,1-r),f()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=A)},deactivate:()=>{f=A},reset:()=>{r===0&&(t==null||t(1,0))},t:()=>b()}}const Re=async()=>({posts:fe()}),tt=Object.freeze(Object.defineProperty({__proto__:null,load:Re},Symbol.toStringTag,{value:"Module"}));function Ue(a){const e=a-1;return e*e*e+1}function se(a,{delay:e=0,duration:s=400,easing:r=Ue,axis:f="y"}={}){const l=getComputedStyle(a),p=+l.opacity,x=f==="y"?"height":"width",C=parseFloat(l[x]),i=f==="y"?["top","bottom"]:["left","right"],t=i.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),u=parseFloat(l[`padding${t[0]}`]),n=parseFloat(l[`padding${t[1]}`]),c=parseFloat(l[`margin${t[0]}`]),b=parseFloat(l[`margin${t[1]}`]),_=parseFloat(l[`border${t[0]}Width`]),h=parseFloat(l[`border${t[1]}Width`]);return{delay:e,duration:s,easing:r,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*p};${x}: ${v*C}px;padding-${i[0]}: ${v*u}px;padding-${i[1]}: ${v*n}px;margin-${i[0]}: ${v*c}px;margin-${i[1]}: ${v*b}px;border-${i[0]}-width: ${v*_}px;border-${i[1]}-width: ${v*h}px;min-${x}: 0`}}var ze=(a,e)=>a.key==="Enter"&&e()(),qe=S('<time class="font-mono text-sm text-muted-foreground"> </time>'),Me=S('<a class="glass hover:sharp-shadow-md group/link flex h-8 w-8 items-center justify-center rounded-lg transition-all hover:border-accent/20" aria-label="Go to article" data-sveltekit-preload-data="hover" data-sveltekit-preload-code="hover"><span class="font-mono text-accent transition-transform duration-200 group-hover/link:translate-x-0.5">→</span></a>'),Be=S('<div class="overflow-hidden transition-all" role="region" aria-label="Additional details"><div class="grid grid-cols-[1fr_auto] items-center gap-4 px-2 sm:px-4 pb-3"><div class="w-fit"><p class="text-sm text-muted-foreground"> </p></div> <!></div></div>'),Ke=S('<article><a class="grid grid-cols-[1fr_auto] items-center gap-3 px-2 sm:px-4 py-3 cursor-pointer hover:bg-accent/5" role="button" tabindex="0" data-sveltekit-preload-data="hover" data-sveltekit-preload-code="hover"><div class="flex items-center gap-3 min-w-0"><div> </div> <div class="w-fit"><h3 class="truncate font-mono text-base font-bold text-primary"> </h3></div></div> <div class="flex items-center gap-3"><!></div></a> <!></article>');function We(a,e){ne(e,!0);const s=P(e,"tag",3,"blog"),r=P(e,"isSelected",3,!1),f=P(e,"onclick",3,()=>{}),l=P(e,"onmouseenter",3,()=>{}),p=P(e,"onmouseleave",3,()=>{}),x=Pe(s()),C=O(()=>e.date?new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null),i=O(()=>`description-${e.title.toLowerCase().replace(/\s+/g,"-")}`),t=O(()=>e.href?`-writing-${e.href.split("/").pop()}`:e.title.toLowerCase().replace(/[^a-z0-9]+/g,"-"));var u=Ke(),n=k(u);n.__click=function(...g){var d;(d=f())==null||d.apply(this,g)},n.__keydown=[ze,f];var c=k(n),b=k(c);ae(b,`shrink-0 px-1.5 py-0.5 w-fit font-mono text-xs ${x}`);var _=k(b,!0);y(b);var h=D(b,2),v=k(h),w=k(v,!0);y(v),y(h),y(c);var m=D(c,2),I=k(m);{var L=g=>{var d=qe(),R=k(d,!0);y(d),M(()=>{N(d,"datetime",e.date),B(d,"view-transition-name",`date-${o(t)??""}`),z(R,o(C))}),F(g,d)};G(I,g=>{o(C)&&g(L)})}y(m),y(n);var T=D(n,2);{var j=g=>{var d=Be(),R=k(d),U=k(R),X=k(U),ce=k(X,!0);y(X),y(U);var le=D(U,2);{var ve=W=>{var J=Me();M(()=>N(J,"href",e.href)),F(W,J)};G(le,W=>{e.href&&W(ve)})}y(R),y(d),M(()=>{N(d,"id",o(i)),B(U,"view-transition-name",`desc-${o(t)??""}`),z(ce,e.description)}),ie(1,d,()=>se,()=>({duration:200})),ie(2,d,()=>se,()=>({duration:200})),F(g,d)};G(T,g=>{r()&&g(j)})}y(u),M(()=>{ae(u,`group border-l-2 transition-all ${(r()?"border-accent/20":"border-transparent")??""}`),N(n,"href",e.href),N(n,"aria-expanded",r()),B(b,"view-transition-name",`tag-${o(t)??""}`),z(_,s()),B(h,"view-transition-name",`title-${o(t)??""}`),z(w,e.title)}),Q("mouseenter",u,function(...g){var d;(d=l())==null||d.apply(this,g)}),Q("mouseleave",u,function(...g){var d;(d=p())==null||d.apply(this,g)}),F(a,u),oe()}me(["click","keydown"]);var Ge=S('<meta name="description" content="Product insights, book notes, and learnings">'),$e=S('<div class="relative mx-auto max-w-3xl px-2 sm:px-4 py-12 sm:py-16"><header class="mb-8 space-y-4"><div class="flex items-center gap-2 font-mono text-lg text-muted-foreground"><span>$</span> <span class="text-primary">~/writing</span> <span class="animate-pulse text-accent">▋</span></div> <p class="font-mono text-base text-muted-foreground">Product insights, book notes, and learnings. <br>Use <kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">j</kbd>/<kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">k</kbd> or <kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">↑</kbd>/<kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">↓</kbd> to navigate, <kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">Enter</kbd> to read.</p></header> <div class="space-y-px"></div></div>');function at(a,e){ne(e,!0);const s=e.data.posts;let r=te(q(s[0].slug)),f=te(null);function l(i){window.location.href=i}function p(i){H(f,q(i))}$(()=>{o(r)&&(Ae(o(r)),Ne(o(r)))}),$(()=>{const i=t=>{if(t.key==="j"||t.key==="ArrowDown"){t.preventDefault();const u=o(r)?s.findIndex(c=>c.slug===o(r)):-1,n=u<s.length-1?u+1:0;H(r,q(s[n].slug))}else if(t.key==="k"||t.key==="ArrowUp"){t.preventDefault();const u=o(r)?s.findIndex(c=>c.slug===o(r)):0,n=u>0?u-1:s.length-1;H(r,q(s[n].slug))}else t.key==="Enter"&&o(r)&&(t.preventDefault(),window.location.href=o(r))};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)}),$(()=>{if(o(r)){const i=document.querySelector('div[aria-expanded="true"]');i==null||i.scrollIntoView({behavior:"smooth",block:"center"})}});var x=$e();ge(i=>{var t=Ge();Se.title="~/writing - Armanc Keser",F(i,t)});var C=D(k(x),2);Te(C,21,()=>s,i=>i.slug,(i,t)=>{const u=O(()=>o(t).description??""),n=O(()=>o(r)===o(t).slug||o(f)===o(t).slug);We(i,{get title(){return o(t).title},get date(){return o(t).date},get description(){return o(u)},get isSelected(){return o(n)},get href(){return o(t).slug},onclick:()=>l(o(t).slug),onmouseenter:()=>p(o(t).slug),onmouseleave:()=>p(null)})}),y(C),y(x),F(a,x),oe()}export{at as component,tt as universal};

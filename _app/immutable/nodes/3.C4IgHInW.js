import{g as fe}from"../chunks/D_PAaGbn.js";import{k as ue,w as pe,f as me,t as S,i as G,s as U,l as X,a as F,p as q,h as ge}from"../chunks/BtDHiD8b.js";import{z as Y,E as _e,a5 as he,a6 as xe,e as be,u as we,a7 as ye,a8 as ke,a9 as Ce,W as Ee,q as Ie,n as A,aa as Z,ab as ee,ac as Fe,g as ne,k,l as y,s as D,m as o,B as O,t as K,j as oe,a1 as te,D as $,$ as Se,K as H}from"../chunks/D-GudfH0.js";import{a as ae,s as N,e as Te}from"../chunks/CdeBztw9.js";import{a as Ae,b as Ne}from"../chunks/D_4rDRBN.js";import{s as M}from"../chunks/PwPRnE0L.js";import{p as P}from"../chunks/Cn3rMp7d.js";import{g as Pe}from"../chunks/CnF-b0My.js";const De=()=>performance.now(),E={tick:a=>requestAnimationFrame(a),now:()=>De(),tasks:new Set};function de(){const a=E.now();E.tasks.forEach(e=>{e.c(a)||(E.tasks.delete(e),e.f())}),E.tasks.size!==0&&E.tick(de)}function Oe(a){let e;return E.tasks.size===0&&E.tick(de),{promise:new Promise(i=>{E.tasks.add(e={c:a,f:i})}),abort(){E.tasks.delete(e)}}}function W(a,e){pe(()=>{a.dispatchEvent(new CustomEvent(e))})}function Le(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function re(a){const e={},i=a.split(";");for(const r of i){const[f,l]=r.split(":");if(!f||l===void 0)break;const p=Le(f.trim());e[p]=l.trim()}return e}const je=a=>a;function se(a,e,i,r){var f=(a&ke)!==0,l=(a&Ce)!==0,p=f&&l,x=(a&ye)!==0,C=p?"both":f?"in":"out",s,t=e.inert,u=e.style.overflow,n,c;function b(){var m=Fe,I=Y;Z(null),ee(null);try{return s??(s=i()(e,(r==null?void 0:r())??{},{direction:C}))}finally{Z(m),ee(I)}}var _={is_global:x,in(){var m;if(e.inert=t,!f){c==null||c.abort(),(m=c==null?void 0:c.reset)==null||m.call(c);return}l||n==null||n.abort(),W(e,"introstart"),n=V(e,b(),c,1,()=>{W(e,"introend"),n==null||n.abort(),n=s=void 0,e.style.overflow=u})},out(m){if(!l){m==null||m(),s=void 0;return}e.inert=!0,W(e,"outrostart"),c=V(e,b(),n,0,()=>{W(e,"outroend"),m==null||m()})},stop:()=>{n==null||n.abort(),c==null||c.abort()}},h=Y;if((h.transitions??(h.transitions=[])).push(_),f&&ue){var v=x;if(!v){for(var w=h.parent;w&&w.f&_e;)for(;(w=w.parent)&&!(w.f&he););v=!w||(w.f&xe)!==0}v&&be(()=>{we(()=>_.in())})}}function V(a,e,i,r,f){var l=r===1;if(Ee(e)){var p,x=!1;return Ie(()=>{if(!x){var h=e({direction:l?"in":"out"});p=V(a,h,i,r,f)}}),{abort:()=>{x=!0,p==null||p.abort()},deactivate:()=>p.deactivate(),reset:()=>p.reset(),t:()=>p.t()}}if(i==null||i.deactivate(),!(e!=null&&e.duration))return f(),{abort:A,deactivate:A,reset:A,t:()=>r};const{delay:C=0,css:s,tick:t,easing:u=je}=e;var n=[];if(l&&i===void 0&&(t&&t(0,1),s)){var c=re(s(0,1));n.push(c,c)}var b=()=>1-r,_=a.animate(n,{duration:C});return _.onfinish=()=>{var h=(i==null?void 0:i.t())??1-r;i==null||i.abort();var v=r-h,w=e.duration*Math.abs(v),m=[];if(w>0){var I=!1;if(s)for(var L=Math.ceil(w/16.666666666666668),T=0;T<=L;T+=1){var j=h+v*u(T/L),g=re(s(j,1-j));m.push(g),I||(I=g.overflow==="hidden")}I&&(a.style.overflow="hidden"),b=()=>{var d=_.currentTime;return h+v*u(d/w)},t&&Oe(()=>{if(_.playState!=="running")return!1;var d=b();return t(d,1-d),!0})}_=a.animate(m,{duration:w,fill:"forwards"}),_.onfinish=()=>{b=()=>r,t==null||t(r,1-r),f()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=A)},deactivate:()=>{f=A},reset:()=>{r===0&&(t==null||t(1,0))},t:()=>b()}}const ze=async()=>({posts:fe()}),tt=Object.freeze(Object.defineProperty({__proto__:null,load:ze},Symbol.toStringTag,{value:"Module"}));function Re(a){const e=a-1;return e*e*e+1}function ie(a,{delay:e=0,duration:i=400,easing:r=Re,axis:f="y"}={}){const l=getComputedStyle(a),p=+l.opacity,x=f==="y"?"height":"width",C=parseFloat(l[x]),s=f==="y"?["top","bottom"]:["left","right"],t=s.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),u=parseFloat(l[`padding${t[0]}`]),n=parseFloat(l[`padding${t[1]}`]),c=parseFloat(l[`margin${t[0]}`]),b=parseFloat(l[`margin${t[1]}`]),_=parseFloat(l[`border${t[0]}Width`]),h=parseFloat(l[`border${t[1]}Width`]);return{delay:e,duration:i,easing:r,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*p};${x}: ${v*C}px;padding-${s[0]}: ${v*u}px;padding-${s[1]}: ${v*n}px;margin-${s[0]}: ${v*c}px;margin-${s[1]}: ${v*b}px;border-${s[0]}-width: ${v*_}px;border-${s[1]}-width: ${v*h}px;min-${x}: 0`}}var Ue=(a,e)=>a.key==="Enter"&&e()(),qe=S('<time class="font-mono text-sm text-muted-foreground"> </time>'),Ke=S('<a class="glass hover:sharp-shadow-md group/link flex h-8 w-8 items-center justify-center rounded-lg transition-all hover:border-accent/20" aria-label="Go to article" data-sveltekit-preload-data="hover" data-sveltekit-preload-code="hover"><span class="font-mono text-accent transition-transform duration-200 group-hover/link:translate-x-0.5">→</span></a>'),Me=S('<div class="overflow-hidden transition-all" role="region" aria-label="Additional details"><div class="grid grid-cols-[1fr_auto] items-center gap-4 px-2 sm:px-4 pb-3"><div class="w-fit"><p class="text-sm text-muted-foreground"> </p></div> <!></div></div>'),We=S('<article><a class="grid grid-cols-[1fr_auto] items-center gap-3 px-2 sm:px-4 py-3 cursor-pointer hover:bg-accent/5" role="button" tabindex="0" data-sveltekit-preload-data="hover" data-sveltekit-preload-code="hover"><div class="flex items-center gap-3 min-w-0"><div> </div> <div class="w-fit"><h3 class="truncate font-mono text-base font-bold text-primary"> </h3></div></div> <div class="flex items-center gap-3"><!></div></a> <!></article>');function Be(a,e){ne(e,!0);const i=P(e,"tag",3,"blog"),r=P(e,"isSelected",3,!1),f=P(e,"onclick",3,()=>{}),l=P(e,"onmouseenter",3,()=>{}),p=P(e,"onmouseleave",3,()=>{}),x=Pe(i()),C=O(()=>e.date?new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null),s=O(()=>`description-${e.title.toLowerCase().replace(/\s+/g,"-")}`),t=O(()=>e.href?`-writing-${e.href.split("/").pop()}`:e.title.toLowerCase().replace(/[^a-z0-9]+/g,"-"));var u=We(),n=k(u);n.__click=function(...g){var d;(d=f())==null||d.apply(this,g)},n.__keydown=[Ue,f];var c=k(n),b=k(c);ae(b,`shrink-0 px-1.5 py-0.5 w-fit font-mono text-xs ${x}`);var _=k(b,!0);y(b);var h=D(b,2),v=k(h),w=k(v,!0);y(v),y(h),y(c);var m=D(c,2),I=k(m);{var L=g=>{var d=qe(),z=k(d,!0);y(d),K(()=>{N(d,"datetime",e.date),M(d,"view-transition-name",`date-${o(t)??""}`),U(z,o(C))}),F(g,d)};G(I,g=>{o(C)&&g(L)})}y(m),y(n);var T=D(n,2);{var j=g=>{var d=Me(),z=k(d),R=k(z),J=k(R),ce=k(J,!0);y(J),y(R);var le=D(R,2);{var ve=B=>{var Q=Ke();K(()=>N(Q,"href",e.href)),F(B,Q)};G(le,B=>{e.href&&B(ve)})}y(z),y(d),K(()=>{N(d,"id",o(s)),M(R,"view-transition-name",`desc-${o(t)??""}`),U(ce,e.description)}),se(1,d,()=>ie,()=>({duration:200})),se(2,d,()=>ie,()=>({duration:200})),F(g,d)};G(T,g=>{r()&&g(j)})}y(u),K(()=>{ae(u,`group border-l-2 transition-all ${(r()?"border-accent/20":"border-transparent")??""}`),N(n,"href",e.href),N(n,"aria-expanded",r()),M(b,"view-transition-name",`tag-${o(t)??""}`),U(_,i()),M(h,"view-transition-name",`title-${o(t)??""}`),U(w,e.title)}),X("mouseenter",u,function(...g){var d;(d=l())==null||d.apply(this,g)}),X("mouseleave",u,function(...g){var d;(d=p())==null||d.apply(this,g)}),F(a,u),oe()}me(["click","keydown"]);var Ge=S('<meta name="description" content="Product insights, book notes, and learnings">'),$e=S('<div class="relative mx-auto max-w-3xl px-2 sm:px-4 py-12 sm:py-16"><header class="mb-8 space-y-4"><div class="flex items-center gap-2 font-mono text-lg text-muted-foreground"><span>$</span> <span class="text-primary">~/writing</span> <span class="animate-pulse text-accent">▋</span></div> <p class="font-mono text-base text-muted-foreground">Product insights, book notes, and learnings. <br>Use <kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">j</kbd>/<kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">k</kbd> or <kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">↑</kbd>/<kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">↓</kbd> to navigate, <kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">Enter</kbd> to read.</p></header> <div class="space-y-px"></div></div>');function at(a,e){ne(e,!0);const i=e.data.posts;let r=te(q(i[0].slug)),f=te(null);function l(s){window.location.href=s}function p(s){H(f,q(s))}$(()=>{o(r)&&(Ae(o(r)),Ne(o(r)))}),$(()=>{const s=t=>{if(t.key==="j"||t.key==="ArrowDown"){t.preventDefault();const u=o(r)?i.findIndex(c=>c.slug===o(r)):-1,n=u<i.length-1?u+1:0;H(r,q(i[n].slug))}else if(t.key==="k"||t.key==="ArrowUp"){t.preventDefault();const u=o(r)?i.findIndex(c=>c.slug===o(r)):0,n=u>0?u-1:i.length-1;H(r,q(i[n].slug))}else t.key==="Enter"&&o(r)&&(t.preventDefault(),window.location.href=o(r))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)}),$(()=>{if(o(r)){const s=document.querySelector('div[aria-expanded="true"]');s==null||s.scrollIntoView({behavior:"smooth",block:"center"})}});var x=$e();ge(s=>{var t=Ge();Se.title="~/writing - Armanc Keser",F(s,t)});var C=D(k(x),2);Te(C,21,()=>i,s=>s.slug,(s,t)=>{const u=O(()=>o(t).description??""),n=O(()=>o(r)===o(t).slug||o(f)===o(t).slug);Be(s,{get title(){return o(t).title},get date(){return o(t).date},get description(){return o(u)},get isSelected(){return o(n)},get href(){return o(t).slug},onclick:()=>l(o(t).slug),onmouseenter:()=>p(o(t).slug),onmouseleave:()=>p(null)})}),y(C),y(x),F(a,x),oe()}export{at as component,tt as universal};

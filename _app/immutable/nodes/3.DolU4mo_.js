import{g as ue}from"../chunks/tp1BQ1IK.js";import{k as fe,w as pe,f as me,t as S,i as B,s as U,l as Q,a as F,p as M,h as ge}from"../chunks/CvDRuKCJ.js";import{z as Y,E as _e,a6 as he,a7 as xe,e as be,u as ye,a8 as we,a9 as ke,aa as Ce,X as Ee,q as Ie,n as A,ab as Z,ac as ee,ad as Fe,g as ne,k,l as w,s as O,m as o,G as D,t as q,j as oe,a2 as te,C as $,$ as Se,M as H}from"../chunks/D81pz_QB.js";import{a as ae,s as N,e as Te}from"../chunks/Do6Mp-Dn.js";import{a as Ae,b as Ne}from"../chunks/UvKekSzm.js";import{s as G}from"../chunks/PwPRnE0L.js";import{p as P}from"../chunks/CM6en2rp.js";import{g as Pe}from"../chunks/CBIqleEN.js";const Oe=()=>performance.now(),E={tick:a=>requestAnimationFrame(a),now:()=>Oe(),tasks:new Set};function de(){const a=E.now();E.tasks.forEach(e=>{e.c(a)||(E.tasks.delete(e),e.f())}),E.tasks.size!==0&&E.tick(de)}function De(a){let e;return E.tasks.size===0&&E.tick(de),{promise:new Promise(s=>{E.tasks.add(e={c:a,f:s})}),abort(){E.tasks.delete(e)}}}function K(a,e){pe(()=>{a.dispatchEvent(new CustomEvent(e))})}function Le(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function re(a){const e={},s=a.split(";");for(const r of s){const[u,l]=r.split(":");if(!u||l===void 0)break;const p=Le(u.trim());e[p]=l.trim()}return e}const je=a=>a;function ie(a,e,s,r){var u=(a&ke)!==0,l=(a&Ce)!==0,p=u&&l,x=(a&we)!==0,C=p?"both":u?"in":"out",i,t=e.inert,f=e.style.overflow,n,c;function b(){var m=Fe,I=Y;Z(null),ee(null);try{return i??(i=s()(e,(r==null?void 0:r())??{},{direction:C}))}finally{Z(m),ee(I)}}var _={is_global:x,in(){var m;if(e.inert=t,!u){c==null||c.abort(),(m=c==null?void 0:c.reset)==null||m.call(c);return}l||n==null||n.abort(),K(e,"introstart"),n=V(e,b(),c,1,()=>{K(e,"introend"),n==null||n.abort(),n=i=void 0,e.style.overflow=f})},out(m){if(!l){m==null||m(),i=void 0;return}e.inert=!0,K(e,"outrostart"),c=V(e,b(),n,0,()=>{K(e,"outroend"),m==null||m()})},stop:()=>{n==null||n.abort(),c==null||c.abort()}},h=Y;if((h.transitions??(h.transitions=[])).push(_),u&&fe){var v=x;if(!v){for(var y=h.parent;y&&y.f&_e;)for(;(y=y.parent)&&!(y.f&he););v=!y||(y.f&xe)!==0}v&&be(()=>{ye(()=>_.in())})}}function V(a,e,s,r,u){var l=r===1;if(Ee(e)){var p,x=!1;return Ie(()=>{if(!x){var h=e({direction:l?"in":"out"});p=V(a,h,s,r,u)}}),{abort:()=>{x=!0,p==null||p.abort()},deactivate:()=>p.deactivate(),reset:()=>p.reset(),t:()=>p.t()}}if(s==null||s.deactivate(),!(e!=null&&e.duration))return u(),{abort:A,deactivate:A,reset:A,t:()=>r};const{delay:C=0,css:i,tick:t,easing:f=je}=e;var n=[];if(l&&s===void 0&&(t&&t(0,1),i)){var c=re(i(0,1));n.push(c,c)}var b=()=>1-r,_=a.animate(n,{duration:C});return _.onfinish=()=>{var h=(s==null?void 0:s.t())??1-r;s==null||s.abort();var v=r-h,y=e.duration*Math.abs(v),m=[];if(y>0){var I=!1;if(i)for(var L=Math.ceil(y/16.666666666666668),T=0;T<=L;T+=1){var j=h+v*f(T/L),g=re(i(j,1-j));m.push(g),I||(I=g.overflow==="hidden")}I&&(a.style.overflow="hidden"),b=()=>{var d=_.currentTime;return h+v*f(d/y)},t&&De(()=>{if(_.playState!=="running")return!1;var d=b();return t(d,1-d),!0})}_=a.animate(m,{duration:y,fill:"forwards"}),_.onfinish=()=>{b=()=>r,t==null||t(r,1-r),u()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=A)},deactivate:()=>{u=A},reset:()=>{r===0&&(t==null||t(1,0))},t:()=>b()}}const ze=async()=>({posts:ue()}),tt=Object.freeze(Object.defineProperty({__proto__:null,load:ze},Symbol.toStringTag,{value:"Module"}));function Re(a){const e=a-1;return e*e*e+1}function se(a,{delay:e=0,duration:s=400,easing:r=Re,axis:u="y"}={}){const l=getComputedStyle(a),p=+l.opacity,x=u==="y"?"height":"width",C=parseFloat(l[x]),i=u==="y"?["top","bottom"]:["left","right"],t=i.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),f=parseFloat(l[`padding${t[0]}`]),n=parseFloat(l[`padding${t[1]}`]),c=parseFloat(l[`margin${t[0]}`]),b=parseFloat(l[`margin${t[1]}`]),_=parseFloat(l[`border${t[0]}Width`]),h=parseFloat(l[`border${t[1]}Width`]);return{delay:e,duration:s,easing:r,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*p};${x}: ${v*C}px;padding-${i[0]}: ${v*f}px;padding-${i[1]}: ${v*n}px;margin-${i[0]}: ${v*c}px;margin-${i[1]}: ${v*b}px;border-${i[0]}-width: ${v*_}px;border-${i[1]}-width: ${v*h}px;min-${x}: 0`}}var Ue=(a,e)=>a.key==="Enter"&&e()(),Me=S('<time class="font-mono text-sm text-muted-foreground"> </time>'),qe=S('<a class="glass hover:sharp-shadow-md group/link flex h-8 w-8 items-center justify-center rounded-lg transition-all hover:border-accent/20" aria-label="Go to article" data-sveltekit-preload-data="hover" data-sveltekit-preload-code="hover"><span class="font-mono text-accent transition-transform duration-200 group-hover/link:translate-x-0.5">→</span></a>'),Ge=S('<div class="overflow-hidden transition-all" role="region" aria-label="Additional details"><div class="grid grid-cols-[1fr_auto] items-center gap-4 px-2 sm:px-4 pb-3"><div><p class="text-sm text-muted-foreground"> </p></div> <!></div></div>'),Ke=S('<article><a class="grid grid-cols-[1fr_auto] items-center gap-3 px-2 sm:px-4 py-3 cursor-pointer hover:bg-accent/5" role="button" tabindex="0" data-sveltekit-preload-data="hover" data-sveltekit-preload-code="hover"><div class="flex items-center gap-3 min-w-0"><div> </div> <div><h3 class="truncate font-mono text-base text-primary"> </h3></div></div> <div class="flex items-center gap-3"><!></div></a> <!></article>');function We(a,e){ne(e,!0);const s=P(e,"tag",3,"blog"),r=P(e,"isSelected",3,!1),u=P(e,"onclick",3,()=>{}),l=P(e,"onmouseenter",3,()=>{}),p=P(e,"onmouseleave",3,()=>{}),x=Pe(s()),C=D(()=>e.date?new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null),i=D(()=>`description-${e.title.toLowerCase().replace(/\s+/g,"-")}`),t=D(()=>e.href?`-writing-${e.href.split("/").pop()}`:e.title.toLowerCase().replace(/[^a-z0-9]+/g,"-"));var f=Ke(),n=k(f);n.__click=function(...g){var d;(d=u())==null||d.apply(this,g)},n.__keydown=[Ue,u];var c=k(n),b=k(c);ae(b,`shrink-0 px-1.5 py-0.5 font-mono text-xs ${x}`);var _=k(b,!0);w(b);var h=O(b,2),v=k(h),y=k(v,!0);w(v),w(h),w(c);var m=O(c,2),I=k(m);{var L=g=>{var d=Me(),z=k(d,!0);w(d),q(()=>{N(d,"datetime",e.date),G(d,"view-transition-name",`date-${o(t)??""}`),U(z,o(C))}),F(g,d)};B(I,g=>{o(C)&&g(L)})}w(m),w(n);var T=O(n,2);{var j=g=>{var d=Ge(),z=k(d),R=k(z),X=k(R),ce=k(X,!0);w(X),w(R);var le=O(R,2);{var ve=W=>{var J=qe();q(()=>N(J,"href",e.href)),F(W,J)};B(le,W=>{e.href&&W(ve)})}w(z),w(d),q(()=>{N(d,"id",o(i)),G(R,"view-transition-name",`desc-${o(t)??""}`),U(ce,e.description)}),ie(1,d,()=>se,()=>({duration:200})),ie(2,d,()=>se,()=>({duration:200})),F(g,d)};B(T,g=>{r()&&g(j)})}w(f),q(()=>{ae(f,`group border-l-2 transition-all ${(r()?"border-accent/20":"border-transparent")??""}`),N(n,"href",e.href),N(n,"aria-expanded",r()),G(b,"view-transition-name",`tag-${o(t)??""}`),U(_,s()),G(h,"view-transition-name",`title-${o(t)??""}`),U(y,e.title)}),Q("mouseenter",f,function(...g){var d;(d=l())==null||d.apply(this,g)}),Q("mouseleave",f,function(...g){var d;(d=p())==null||d.apply(this,g)}),F(a,f),oe()}me(["click","keydown"]);var Be=S('<meta name="description" content="Product insights, book notes, and learnings">'),$e=S('<div class="relative mx-auto max-w-3xl px-2 sm:px-4 py-12 sm:py-16"><header class="mb-8 space-y-4"><div class="flex items-center gap-2 font-mono text-lg text-muted-foreground"><span>$</span> <span class="text-primary">~/writing</span> <span class="animate-pulse text-accent">▋</span></div> <p class="font-mono text-base text-muted-foreground">Product insights, book notes, and learnings. <br>Use <kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">j</kbd>/<kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">k</kbd> or <kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">↑</kbd>/<kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">↓</kbd> to navigate, <kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">Enter</kbd> to read.</p></header> <div class="space-y-px"></div></div>');function at(a,e){ne(e,!0);const s=e.data.posts;let r=te(M(s[0].slug)),u=te(null);function l(i){window.location.href=i}function p(i){H(u,M(i))}$(()=>{o(r)&&(Ae(o(r)),Ne(o(r)))}),$(()=>{const i=t=>{if(t.key==="j"||t.key==="ArrowDown"){t.preventDefault();const f=o(r)?s.findIndex(c=>c.slug===o(r)):-1,n=f<s.length-1?f+1:0;H(r,M(s[n].slug))}else if(t.key==="k"||t.key==="ArrowUp"){t.preventDefault();const f=o(r)?s.findIndex(c=>c.slug===o(r)):0,n=f>0?f-1:s.length-1;H(r,M(s[n].slug))}else t.key==="Enter"&&o(r)&&(t.preventDefault(),window.location.href=o(r))};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)}),$(()=>{if(o(r)){const i=document.querySelector('div[aria-expanded="true"]');i==null||i.scrollIntoView({behavior:"smooth",block:"center"})}});var x=$e();ge(i=>{var t=Be();Se.title="~/writing - Armanc Keser",F(i,t)});var C=O(k(x),2);Te(C,21,()=>s,i=>i.slug,(i,t)=>{const f=D(()=>o(t).description??""),n=D(()=>o(r)===o(t).slug||o(u)===o(t).slug);We(i,{get title(){return o(t).title},get date(){return o(t).date},get description(){return o(f)},get isSelected(){return o(n)},get href(){return o(t).slug},onclick:()=>l(o(t).slug),onmouseenter:()=>p(o(t).slug),onmouseleave:()=>p(null)})}),w(C),w(x),F(a,x),oe()}export{at as component,tt as universal};

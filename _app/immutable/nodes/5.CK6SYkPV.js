import{g as fe}from"../chunks/_O5SumNn.js";import{p as ue,w as pe,e as me,t as S,s as U,q as X,a as F,h as ge}from"../chunks/C-JR3Khm.js";import{D as Y,E as _e,ax as he,ay as xe,e as ye,u as be,az as we,aA as ke,aB as Ce,a1 as Ee,q as Ie,n as A,au as Z,av as ee,aw as Fe,p as ne,g as k,j as w,s as D,y as o,L,t as q,f as oe,o as te,v as G,$ as Se,x as $}from"../chunks/DQR_r4B4.js";import{a as ae,s as N,e as Te}from"../chunks/BQuTJoZ-.js";import{i as H,p as M}from"../chunks/DUhq5qQa.js";import{a as Ae,b as Ne}from"../chunks/lRf2npKj.js";import{s as B}from"../chunks/PwPRnE0L.js";import{p as P}from"../chunks/BjtfNaWY.js";import{g as Pe}from"../chunks/CnF-b0My.js";const De=()=>performance.now(),E={tick:a=>requestAnimationFrame(a),now:()=>De(),tasks:new Set};function de(){const a=E.now();E.tasks.forEach(e=>{e.c(a)||(E.tasks.delete(e),e.f())}),E.tasks.size!==0&&E.tick(de)}function Le(a){let e;return E.tasks.size===0&&E.tick(de),{promise:new Promise(s=>{E.tasks.add(e={c:a,f:s})}),abort(){E.tasks.delete(e)}}}function K(a,e){pe(()=>{a.dispatchEvent(new CustomEvent(e))})}function Oe(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function re(a){const e={},s=a.split(";");for(const r of s){const[f,l]=r.split(":");if(!f||l===void 0)break;const p=Oe(f.trim());e[p]=l.trim()}return e}const je=a=>a;function ie(a,e,s,r){var f=(a&ke)!==0,l=(a&Ce)!==0,p=f&&l,x=(a&we)!==0,C=p?"both":f?"in":"out",i,t=e.inert,u=e.style.overflow,n,c;function y(){var m=Fe,I=Y;Z(null),ee(null);try{return i??(i=s()(e,(r==null?void 0:r())??{},{direction:C}))}finally{Z(m),ee(I)}}var _={is_global:x,in(){var m;if(e.inert=t,!f){c==null||c.abort(),(m=c==null?void 0:c.reset)==null||m.call(c);return}l||n==null||n.abort(),K(e,"introstart"),n=V(e,y(),c,1,()=>{K(e,"introend"),n==null||n.abort(),n=i=void 0,e.style.overflow=u})},out(m){if(!l){m==null||m(),i=void 0;return}e.inert=!0,K(e,"outrostart"),c=V(e,y(),n,0,()=>{K(e,"outroend"),m==null||m()})},stop:()=>{n==null||n.abort(),c==null||c.abort()}},h=Y;if((h.transitions??(h.transitions=[])).push(_),f&&ue){var v=x;if(!v){for(var b=h.parent;b&&b.f&_e;)for(;(b=b.parent)&&!(b.f&he););v=!b||(b.f&xe)!==0}v&&ye(()=>{be(()=>_.in())})}}function V(a,e,s,r,f){var l=r===1;if(Ee(e)){var p,x=!1;return Ie(()=>{if(!x){var h=e({direction:l?"in":"out"});p=V(a,h,s,r,f)}}),{abort:()=>{x=!0,p==null||p.abort()},deactivate:()=>p.deactivate(),reset:()=>p.reset(),t:()=>p.t()}}if(s==null||s.deactivate(),!(e!=null&&e.duration))return f(),{abort:A,deactivate:A,reset:A,t:()=>r};const{delay:C=0,css:i,tick:t,easing:u=je}=e;var n=[];if(l&&s===void 0&&(t&&t(0,1),i)){var c=re(i(0,1));n.push(c,c)}var y=()=>1-r,_=a.animate(n,{duration:C});return _.onfinish=()=>{var h=(s==null?void 0:s.t())??1-r;s==null||s.abort();var v=r-h,b=e.duration*Math.abs(v),m=[];if(b>0){var I=!1;if(i)for(var O=Math.ceil(b/16.666666666666668),T=0;T<=O;T+=1){var j=h+v*u(T/O),g=re(i(j,1-j));m.push(g),I||(I=g.overflow==="hidden")}I&&(a.style.overflow="hidden"),y=()=>{var d=_.currentTime;return h+v*u(d/b)},t&&Le(()=>{if(_.playState!=="running")return!1;var d=y();return t(d,1-d),!0})}_=a.animate(m,{duration:b,fill:"forwards"}),_.onfinish=()=>{y=()=>r,t==null||t(r,1-r),f()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=A)},deactivate:()=>{f=A},reset:()=>{r===0&&(t==null||t(1,0))},t:()=>y()}}const ze=async()=>({posts:fe()}),at=Object.freeze(Object.defineProperty({__proto__:null,load:ze},Symbol.toStringTag,{value:"Module"}));function Re(a){const e=a-1;return e*e*e+1}function se(a,{delay:e=0,duration:s=400,easing:r=Re,axis:f="y"}={}){const l=getComputedStyle(a),p=+l.opacity,x=f==="y"?"height":"width",C=parseFloat(l[x]),i=f==="y"?["top","bottom"]:["left","right"],t=i.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),u=parseFloat(l[`padding${t[0]}`]),n=parseFloat(l[`padding${t[1]}`]),c=parseFloat(l[`margin${t[0]}`]),y=parseFloat(l[`margin${t[1]}`]),_=parseFloat(l[`border${t[0]}Width`]),h=parseFloat(l[`border${t[1]}Width`]);return{delay:e,duration:s,easing:r,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*p};${x}: ${v*C}px;padding-${i[0]}: ${v*u}px;padding-${i[1]}: ${v*n}px;margin-${i[0]}: ${v*c}px;margin-${i[1]}: ${v*y}px;border-${i[0]}-width: ${v*_}px;border-${i[1]}-width: ${v*h}px;min-${x}: 0`}}var Ue=(a,e)=>a.key==="Enter"&&e()(),qe=S('<time class="font-mono text-sm text-muted-foreground"> </time>'),Me=S('<a class="glass hover:sharp-shadow-md group/link flex h-8 w-8 items-center justify-center rounded-lg transition-all hover:border-accent/20" aria-label="Go to article" data-sveltekit-preload-data="hover" data-sveltekit-preload-code="hover"><span class="font-mono text-accent transition-transform duration-200 group-hover/link:translate-x-0.5">→</span></a>'),Be=S('<div class="overflow-hidden transition-all" role="region" aria-label="Additional details"><div class="grid grid-cols-[1fr_auto] items-center gap-4 px-2 sm:px-4 pb-3"><div class="w-fit"><p class="text-sm text-muted-foreground"> </p></div> <!></div></div>'),Ke=S('<article><a class="grid grid-cols-[1fr_auto] items-center gap-3 px-2 sm:px-4 py-3 cursor-pointer hover:bg-accent/5" role="button" tabindex="0" data-sveltekit-preload-data="hover" data-sveltekit-preload-code="hover"><div class="flex items-center gap-3 min-w-0"><div> </div> <div class="w-fit"><h3 class="truncate font-mono text-base font-bold text-primary"> </h3></div></div> <div class="flex items-center gap-3"><!></div></a> <!></article>');function We(a,e){ne(e,!0);const s=P(e,"tag",3,"blog"),r=P(e,"isSelected",3,!1),f=P(e,"onclick",3,()=>{}),l=P(e,"onmouseenter",3,()=>{}),p=P(e,"onmouseleave",3,()=>{}),x=Pe(s()),C=L(()=>e.date?new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null),i=L(()=>`description-${e.title.toLowerCase().replace(/\s+/g,"-")}`),t=L(()=>e.href?`-writing-${e.href.split("/").pop()}`:e.title.toLowerCase().replace(/[^a-z0-9]+/g,"-"));var u=Ke(),n=k(u);n.__click=function(...g){var d;(d=f())==null||d.apply(this,g)},n.__keydown=[Ue,f];var c=k(n),y=k(c);ae(y,`shrink-0 px-1.5 py-0.5 w-fit font-mono text-xs ${x}`);var _=k(y,!0);w(y);var h=D(y,2),v=k(h),b=k(v,!0);w(v),w(h),w(c);var m=D(c,2),I=k(m);{var O=g=>{var d=qe(),z=k(d,!0);w(d),q(()=>{N(d,"datetime",e.date),B(d,"view-transition-name",`date-${o(t)??""}`),U(z,o(C))}),F(g,d)};H(I,g=>{o(C)&&g(O)})}w(m),w(n);var T=D(n,2);{var j=g=>{var d=Be(),z=k(d),R=k(z),J=k(R),ce=k(J,!0);w(J),w(R);var le=D(R,2);{var ve=W=>{var Q=Me();q(()=>N(Q,"href",e.href)),F(W,Q)};H(le,W=>{e.href&&W(ve)})}w(z),w(d),q(()=>{N(d,"id",o(i)),B(R,"view-transition-name",`desc-${o(t)??""}`),U(ce,e.description)}),ie(1,d,()=>se,()=>({duration:200})),ie(2,d,()=>se,()=>({duration:200})),F(g,d)};H(T,g=>{r()&&g(j)})}w(u),q(()=>{ae(u,`group border-l-2 transition-all ${(r()?"border-accent/20":"border-transparent")??""}`),N(n,"href",e.href),N(n,"aria-expanded",r()),B(y,"view-transition-name",`tag-${o(t)??""}`),U(_,s()),B(h,"view-transition-name",`title-${o(t)??""}`),U(b,e.title)}),X("mouseenter",u,function(...g){var d;(d=l())==null||d.apply(this,g)}),X("mouseleave",u,function(...g){var d;(d=p())==null||d.apply(this,g)}),F(a,u),oe()}me(["click","keydown"]);var Ge=S('<meta name="description" content="Product insights, book notes, and learnings">'),$e=S('<div class="relative mx-auto max-w-3xl px-2 sm:px-4 py-12 sm:py-16"><header class="mb-8 space-y-4"><div class="flex items-center gap-2 font-mono text-lg text-muted-foreground"><span>$</span> <span class="text-primary">~/writing</span> <span class="animate-pulse text-accent">▋</span></div> <p class="font-mono text-base text-muted-foreground">Product insights, book notes, and learnings. <br>Use <kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">j</kbd>/<kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">k</kbd> or <kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">↑</kbd>/<kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">↓</kbd> to navigate, <kbd class="px-1.5 py-0.5 text-xs bg-accent/10 rounded">Enter</kbd> to read.</p></header> <div class="space-y-px"></div></div>');function rt(a,e){ne(e,!0);const s=e.data.posts;let r=te(M(s[0].slug)),f=te(null);function l(i){window.location.href=i}function p(i){$(f,M(i))}G(()=>{o(r)&&(Ae(o(r)),Ne(o(r)))}),G(()=>{const i=t=>{if(t.key==="j"||t.key==="ArrowDown"){t.preventDefault();const u=o(r)?s.findIndex(c=>c.slug===o(r)):-1,n=u<s.length-1?u+1:0;$(r,M(s[n].slug))}else if(t.key==="k"||t.key==="ArrowUp"){t.preventDefault();const u=o(r)?s.findIndex(c=>c.slug===o(r)):0,n=u>0?u-1:s.length-1;$(r,M(s[n].slug))}else t.key==="Enter"&&o(r)&&(t.preventDefault(),window.location.href=o(r))};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)}),G(()=>{if(o(r)){const i=document.querySelector('div[aria-expanded="true"]');i==null||i.scrollIntoView({behavior:"smooth",block:"center"})}});var x=$e();ge(i=>{var t=Ge();Se.title="~/writing - Armanc Keser",F(i,t)});var C=D(k(x),2);Te(C,21,()=>s,i=>i.slug,(i,t)=>{const u=L(()=>o(t).description??""),n=L(()=>o(r)===o(t).slug||o(f)===o(t).slug);We(i,{get title(){return o(t).title},get date(){return o(t).date},get description(){return o(u)},get isSelected(){return o(n)},get href(){return o(t).slug},onclick:()=>l(o(t).slug),onmouseenter:()=>p(o(t).slug),onmouseleave:()=>p(null)})}),w(C),w(x),F(a,x),oe()}export{rt as component,at as universal};
